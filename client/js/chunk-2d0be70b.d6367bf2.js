(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0be70b"],{"2fef":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o={class:"auth"},s={class:"form"},r=Object(n["f"])("h1",null,"Вход в аккаунт",-1),u={class:"form-group"},d=Object(n["g"])("Регистрация"),c=Object(n["g"])(" Войти "),l={key:0,id:"loader"},i={key:0,class:"regmsg"};function h(e,t,a,h,p,b){var f=Object(n["y"])("router-link");return Object(n["r"])(),Object(n["e"])("div",o,[Object(n["f"])("div",s,[r,Object(n["F"])(Object(n["f"])("input",{type:"text",ref:"field",class:Object(n["n"])({dontTrue:p.dontTrue}),"onUpdate:modelValue":t[0]||(t[0]=function(e){return p.authData.phone=e}),placeholder:"Номер телефона"},null,2),[[n["C"],p.authData.phone]]),Object(n["F"])(Object(n["f"])("input",{type:"password",class:Object(n["n"])({dontTrue:p.dontTrue,dontPass:p.dontPass}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return p.authData.password=e}),placeholder:"Пароль"},null,2),[[n["C"],p.authData.password]]),Object(n["f"])("div",u,[Object(n["h"])(f,{to:"/register",class:"form-recovery",href:"#"},{default:Object(n["E"])((function(){return[d]})),_:1})]),Object(n["f"])("button",{onClick:t[2]||(t[2]=function(){return b.auth&&b.auth.apply(b,arguments)})},[c,p.loaderView?(Object(n["r"])(),Object(n["e"])("div",l)):Object(n["d"])("",!0)]),p.msg?(Object(n["r"])(),Object(n["e"])("div",i,[Object(n["f"])("p",null,Object(n["A"])(p.msg),1)])):Object(n["d"])("",!0)])])}a("d3b7"),a("ddb0");var p=a("2526"),b=a.n(p),f={data:function(){return{authData:{password:"",phone:""},msg:"",dontTrue:!1,dontPass:!1,loaderView:!1}},mounted:function(){var e=new b.a("+7 (999) 999-99-99");e.mask(this.$refs.field)},methods:{auth:function(){var e=this;if(this.loaderView=!0,this.authData.password&&this.authData.phone){var t=new FormData;t.append("password",this.authData.password),t.append("phone",this.authData.phone);var a={method:"POST",body:t,redirect:"follow"};fetch("https://diplom-api.na4u.ru/api/auth/signin",a).then((function(e){return e.json()})).then((function(t){console.log(t),t.values.token?(localStorage.setItem("token",t.values.token),e.$router.push({path:"/"})):"Неверный пароль"==t.values.message?(e.dontTrue=!1,e.dontPass=!0,e.loaderView=!1,e.msg=t.values.message):(e.msg=t.values.message,e.dontTrue=!0,e.loaderView=!1)})).catch((function(e){return console.log("error",e)}))}else this.msg="Не все поля заполнены",this.dontTrue=!0,this.loaderView=!1}}},j=a("6b0d"),O=a.n(j);const m=O()(f,[["render",h]]);t["default"]=m}}]);
//# sourceMappingURL=chunk-2d0be70b.d6367bf2.js.map