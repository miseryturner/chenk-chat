(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a7ae136"],{"1dde":function(e,t,r){var o=r("d039"),n=r("b622"),a=r("2d00"),s=n("species");e.exports=function(e){return a>=51||!o((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},b8b8:function(e,t,r){"use strict";r.r(t);var o=r("7a23"),n={class:"auth"},a={class:"form"},s=Object(o["f"])("h1",null,"Регистрация",-1),u={class:"form-group"},i=Object(o["g"])("Авторизация"),c=Object(o["g"])(" Зарегистрироваться "),d={key:0,id:"loader"},l={key:0,class:"regmsg"};function p(e,t,r,p,f,h){var b=Object(o["y"])("router-link");return Object(o["r"])(),Object(o["e"])("div",n,[Object(o["f"])("div",a,[s,Object(o["F"])(Object(o["f"])("input",{onInput:t[0]||(t[0]=function(t){return e.error=""}),type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return f.userData.login=e}),placeholder:"Логин"},null,544),[[o["C"],f.userData.login]]),Object(o["F"])(Object(o["f"])("input",{onInput:t[2]||(t[2]=function(t){return e.error=""}),type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return f.userData.phone=e}),ref:"field",placeholder:"Номер телефона"},null,544),[[o["C"],f.userData.phone]]),Object(o["F"])(Object(o["f"])("input",{onInput:t[4]||(t[4]=function(t){return e.error=""}),type:"password","onUpdate:modelValue":t[5]||(t[5]=function(e){return f.userData.password=e}),placeholder:"Пароль"},null,544),[[o["C"],f.userData.password]]),Object(o["F"])(Object(o["f"])("input",{onInput:t[6]||(t[6]=function(t){return e.error=""}),type:"password","onUpdate:modelValue":t[7]||(t[7]=function(e){return f.userData.doublePassword=e}),placeholder:"Повторите пароль"},null,544),[[o["C"],f.userData.doublePassword]]),Object(o["f"])("div",u,[Object(o["h"])(b,{to:"/auth",class:"form-recovery",href:"#"},{default:Object(o["E"])((function(){return[i]})),_:1})]),Object(o["f"])("button",{onClick:t[8]||(t[8]=function(){return h.register&&h.register.apply(h,arguments)})},[c,f.loaderView?(Object(o["r"])(),Object(o["e"])("div",d)):Object(o["d"])("",!0)]),f.msg?(Object(o["r"])(),Object(o["e"])("div",l,[Object(o["f"])("p",null,Object(o["A"])(f.msg),1)])):Object(o["d"])("",!0)])])}r("fb6a"),r("d3b7"),r("ddb0");var f=r("2526"),h=r.n(f),b={data:function(){return{userData:{login:"",phone:"",password:"",doublePassword:""},msg:"",loaderView:!1}},mounted:function(){var e=new h.a("+7 (999) 999-99-99");e.mask(this.$refs.field)},methods:{register:function(){var e=this;if(this.loaderView=!0,this.userData.login&&this.userData.phone&&this.userData.password)if("_"!=this.userData.phone.slice(-1))if(this.userData.password==this.userData.doublePassword){var t=new FormData;t.append("login",this.userData.login),t.append("phone",this.userData.phone),t.append("password",this.userData.password);var r={method:"POST",body:t,redirect:"follow"};fetch("https://diplom-api.na4u.ru/api/auth/signup",r).then((function(e){return e.json()})).then((function(t){"Успешная регистрация"==t.values.message?(console.log(t),e.$router.push({path:"/auth"})):(e.msg=t.values.message,e.loaderView=!1)})).catch((function(e){return console.log("error",e)}))}else this.msg="Пароли не совпадают",this.loaderView=!1;else this.msg="Номер телефона должен состоять из 11 символов",this.loaderView=!1;else this.msg="Не все поля заполнены",this.loaderView=!1}}},w=r("6b0d"),g=r.n(w);const j=g()(b,[["render",p]]);t["default"]=j},fb6a:function(e,t,r){"use strict";var o=r("23e7"),n=r("da84"),a=r("e8b5"),s=r("68ee"),u=r("861d"),i=r("23cb"),c=r("07fa"),d=r("fc6a"),l=r("8418"),p=r("b622"),f=r("1dde"),h=r("f36a"),b=f("slice"),w=p("species"),g=n.Array,j=Math.max;o({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var r,o,n,p=d(this),f=c(p),b=i(e,f),O=i(void 0===t?f:t,f);if(a(p)&&(r=p.constructor,s(r)&&(r===g||a(r.prototype))?r=void 0:u(r)&&(r=r[w],null===r&&(r=void 0)),r===g||void 0===r))return h(p,b,O);for(o=new(void 0===r?g:r)(j(O-b,0)),n=0;b<O;b++,n++)b in p&&l(o,n,p[b]);return o.length=n,o}})}}]);
//# sourceMappingURL=chunk-6a7ae136.38594f75.js.map